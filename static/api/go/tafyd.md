<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# tafyd

```go
import "github.com/tafystudio/tafystudio/apps/tafyd"
```

## Index



# cmd

```go
import "github.com/tafystudio/tafystudio/apps/tafyd/cmd"
```

## Index

- [func Execute\(ctx context.Context\) error](<#Execute>)


<a name="Execute"></a>
## func [Execute](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/cmd/root.go#L28>)

```go
func Execute(ctx context.Context) error
```



# agent

```go
import "github.com/tafystudio/tafystudio/apps/tafyd/pkg/agent"
```

## Index

- [type Agent](<#Agent>)
  - [func New\(config Config\) \(\*Agent, error\)](<#New>)
  - [func \(a \*Agent\) Run\(ctx context.Context\) error](<#Agent.Run>)
- [type Config](<#Config>)


<a name="Agent"></a>
## type [Agent](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/agent/agent.go#L21-L26>)



```go
type Agent struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/agent/agent.go#L28>)

```go
func New(config Config) (*Agent, error)
```



<a name="Agent.Run"></a>
### func \(\*Agent\) [Run](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/agent/agent.go#L42>)

```go
func (a *Agent) Run(ctx context.Context) error
```



<a name="Config"></a>
## type [Config](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/agent/agent.go#L14-L19>)



```go
type Config struct {
    NodeID   string
    NATSUrl  string
    Role     string
    MDNSPort int
}
```

# discovery

```go
import "github.com/tafystudio/tafystudio/apps/tafyd/pkg/discovery"
```

## Index

- [Constants](<#constants>)
- [type Device](<#Device>)
- [type Service](<#Service>)
  - [func New\(nodeID, role string, port int\) \(\*Service, error\)](<#New>)
  - [func \(s \*Service\) DiscoverDevices\(timeout time.Duration\) \[\]Device](<#Service.DiscoverDevices>)
  - [func \(s \*Service\) Start\(\) error](<#Service.Start>)
  - [func \(s \*Service\) Stop\(\)](<#Service.Stop>)


## Constants

<a name="ServiceType"></a>

```go
const (
    ServiceType = "_tafynode._tcp"
    Domain      = "local."
)
```

<a name="Device"></a>
## type [Device](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/discovery/mdns.go#L25-L35>)



```go
type Device struct {
    Instance string
    Service  string
    Domain   string
    HostName string
    Port     int
    Text     []string
    TTL      uint32
    AddrIPv4 []string
    AddrIPv6 []string
}
```

<a name="Service"></a>
## type [Service](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/discovery/mdns.go#L17-L23>)



```go
type Service struct {
    // contains filtered or unexported fields
}
```

<a name="New"></a>
### func [New](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/discovery/mdns.go#L37>)

```go
func New(nodeID, role string, port int) (*Service, error)
```



<a name="Service.DiscoverDevices"></a>
### func \(\*Service\) [DiscoverDevices](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/discovery/mdns.go#L83>)

```go
func (s *Service) DiscoverDevices(timeout time.Duration) []Device
```



<a name="Service.Start"></a>
### func \(\*Service\) [Start](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/discovery/mdns.go#L46>)

```go
func (s *Service) Start() error
```



<a name="Service.Stop"></a>
### func \(\*Service\) [Stop](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/discovery/mdns.go#L76>)

```go
func (s *Service) Stop()
```



# nats

```go
import "github.com/tafystudio/tafystudio/apps/tafyd/pkg/nats"
```

## Index

- [type Client](<#Client>)
  - [func NewClient\(url, name string\) \(\*Client, error\)](<#NewClient>)
  - [func \(c \*Client\) Close\(\)](<#Client.Close>)
  - [func \(c \*Client\) Connect\(ctx context.Context\) error](<#Client.Connect>)
  - [func \(c \*Client\) Publish\(subject string, data \[\]byte\) error](<#Client.Publish>)
  - [func \(c \*Client\) PublishJSON\(subject string, v interface\{\}\) error](<#Client.PublishJSON>)
  - [func \(c \*Client\) Request\(subject string, data \[\]byte, timeout time.Duration\) \(\*nats.Msg, error\)](<#Client.Request>)
  - [func \(c \*Client\) Subscribe\(subject string, handler nats.MsgHandler\) \(\*nats.Subscription, error\)](<#Client.Subscribe>)


<a name="Client"></a>
## type [Client](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/nats/client.go#L13-L19>)



```go
type Client struct {
    // contains filtered or unexported fields
}
```

<a name="NewClient"></a>
### func [NewClient](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/nats/client.go#L21>)

```go
func NewClient(url, name string) (*Client, error)
```



<a name="Client.Close"></a>
### func \(\*Client\) [Close](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/nats/client.go#L65>)

```go
func (c *Client) Close()
```



<a name="Client.Connect"></a>
### func \(\*Client\) [Connect](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/nats/client.go#L29>)

```go
func (c *Client) Connect(ctx context.Context) error
```



<a name="Client.Publish"></a>
### func \(\*Client\) [Publish](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/nats/client.go#L71>)

```go
func (c *Client) Publish(subject string, data []byte) error
```



<a name="Client.PublishJSON"></a>
### func \(\*Client\) [PublishJSON](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/nats/client.go#L78>)

```go
func (c *Client) PublishJSON(subject string, v interface{}) error
```



<a name="Client.Request"></a>
### func \(\*Client\) [Request](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/nats/client.go#L93>)

```go
func (c *Client) Request(subject string, data []byte, timeout time.Duration) (*nats.Msg, error)
```



<a name="Client.Subscribe"></a>
### func \(\*Client\) [Subscribe](<https://github.com/tafystudio/tafystudio/blob/main/apps/tafyd/pkg/nats/client.go#L86>)

```go
func (c *Client) Subscribe(subject string, handler nats.MsgHandler) (*nats.Subscription, error)
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
